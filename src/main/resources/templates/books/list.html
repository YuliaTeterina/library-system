<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ö–Ω–∏–≥–∏</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="/books">üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</a>
        <div class="navbar-nav">
            <a class="nav-link" href="/books">–ö–Ω–∏–≥–∏</a>
            <a class="nav-link" href="/authors">–ê–≤—Ç–æ—Ä—ã</a>
            <a class="nav-link" href="/genres">–ñ–∞–Ω—Ä—ã</a>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ -->
    <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="${success}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
        <span th:text="${error}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <!-- –ó–ê–ì–û–õ–û–í–û–ö –° –ö–û–õ–ò–ß–ï–°–¢–í–û–ú –ö–ù–ò–ì -->
    <h1>–ö–Ω–∏–≥–∏
        <small class="text-muted">
            (–í—Å–µ–≥–æ: <span th:text="${bookCount}" class="badge bg-secondary">0</span>)
        </small>
    </h1>

    <!-- –ö–ù–û–ü–ö–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø -->
    <a href="/books/form" class="btn btn-success mb-3">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</a>

    <!-- –¢–ê–ë–õ–ò–¶–ê –ö–ù–ò–ì (–ö–ê–ö –ë–´–õ–û) -->
    <table class="table table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–ê–≤—Ç–æ—Ä</th>
            <th>–ñ–∞–Ω—Ä</th>
            <th>–ì–æ–¥</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="book : ${books}">
            <td th:text="${book.id}"></td>
            <td th:text="${book.title}"></td>
            <td th:text="${book.author.fullName}"></td>
            <td th:text="${book.genre.name}"></td>
            <td th:text="${book.publicationYear}"></td>
            <td>
                <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä -->
                <a th:href="@{/books/view/{id}(id=${book.id})}" class="btn btn-info btn-sm">
                    –ü—Ä–æ—Å–º–æ—Ç—Ä
                </a>

                <!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
                <a th:href="@{/books/form(id=${book.id})}" class="btn btn-warning btn-sm">
                    –ò–∑–º–µ–Ω–∏—Ç—å
                </a>

                <!-- –£–¥–∞–ª–µ–Ω–∏–µ -->
                <a th:href="@{/books/delete/{id}(id=${book.id})}" class="btn btn-danger btn-sm"
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–Ω–∏–≥—É?')">
                    –£–¥–∞–ª–∏—Ç—å
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>