<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ê–≤—Ç–æ—Ä—ã</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="/books">üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</a>
        <div class="navbar-nav">
            <a class="nav-link" href="/books">–ö–Ω–∏–≥–∏</a>
            <a class="nav-link active" href="/authors">–ê–≤—Ç–æ—Ä—ã</a>
            <a class="nav-link" href="/genres">–ñ–∞–Ω—Ä—ã</a>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ -->
    <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="${success}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
        <span th:text="${error}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <!-- –ó–ê–ì–û–õ–û–í–û–ö –° –ö–û–õ–ò–ß–ï–°–¢–í–û–ú –ê–í–¢–û–†–û–í -->
    <h1>–ê–≤—Ç–æ—Ä—ã
        <small class="text-muted">
            (–í—Å–µ–≥–æ: <span th:text="${authorCount}" class="badge bg-secondary">0</span>)
        </small>
    </h1>

    <!-- –ö–ù–û–ü–ö–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø -->
    <a href="/authors/form" class="btn btn-success mb-3">–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∞</a>

    <!-- –¢–ê–ë–õ–ò–¶–ê –ê–í–¢–û–†–û–í -->
    <table class="table table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>–ò–º—è</th>
            <th>–§–∞–º–∏–ª–∏—è</th>
            <th>–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è</th>
            <th>–°—Ç—Ä–∞–Ω–∞</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="author : ${authors}">
            <td th:text="${author.id}"></td>
            <td th:text="${author.firstName}"></td>
            <td th:text="${author.lastName}"></td>
            <td th:text="${author.birthYear}"></td>
            <td th:text="${author.country}"></td>
            <td>
                <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä -->
                <a th:href="@{/authors/view/{id}(id=${author.id})}" class="btn btn-info btn-sm">
                    –ü—Ä–æ—Å–º–æ—Ç—Ä
                </a>

                <!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
                <a th:href="@{/authors/form(id=${author.id})}" class="btn btn-warning btn-sm">
                    –ò–∑–º–µ–Ω–∏—Ç—å
                </a>

                <!-- –£–¥–∞–ª–µ–Ω–∏–µ -->
                <a th:href="@{/authors/delete/{id}(id=${author.id})}" class="btn btn-danger btn-sm"
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –∞–≤—Ç–æ—Ä–∞?')">
                    –£–¥–∞–ª–∏—Ç—å
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>